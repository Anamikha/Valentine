<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>4th Valentine's Together ü•∞‚ù§Ô∏è</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(to bottom, #fdecef, #f9dbe5);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Georgia, serif;
  overflow: hidden;
  position: relative;
}

/* Container */
.container {
  text-align: center;
  position: relative;
}

/* Heart wrapper */
.heart-wrapper {
  position: relative;
  display: inline-block;
}

/* BIG PINK HEART */
/* Add glow to heart */
.heart {
  font-size: 220px;
  cursor: pointer;
  display: inline-block;
  animation: denial 1.6s infinite;
  transition: transform 1s ease, opacity 1s ease;
  color: #ff7fbf;
  text-shadow: 
    0 0 15px #ffb3d9, 
    0 0 25px #ff99cc,
    0 0 30px rgba(255,215,0,0.4); /* golden glow */
  filter: drop-shadow(0 0 10px #ffb3d9)
          drop-shadow(0 0 15px rgba(255,215,0,0.3)); /* golden glow */
}
/* Lock on right-middle of heart */
.lock {
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 60px;
  color: #ffd700;
  text-shadow: 
    0 0 5px #fff7a0, 
    0 0 15px rgba(255,215,0,0.5); /* golden glow */
  animation: pulse 1.5s infinite alternate;
  pointer-events: none;
}
/* Denial animation */
@keyframes denial {
  0%,100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-5px) rotate(-10deg); }
  50% { transform: translateY(0) rotate(0deg); }
  75% { transform: translateY(5px) rotate(10deg); }
}

/* Pulse glow for lock */
@keyframes pulse {
  0% { transform: translateY(-50%) scale(1); text-shadow: 0 0 5px #fff7a0; }
  50% { transform: translateY(-50%) scale(1.1); text-shadow: 0 0 15px #fff7a0; }
  100% { transform: translateY(-50%) scale(1); text-shadow: 0 0 5px #fff7a0; }
}

/* Heart opening effect */
.open-heart {
  animation: none;
  transform: scale(1.3);
}

/* Sparkle CSS */
.sparkle {
  position: absolute;
  pointer-events: none;
  z-index: 9999;
}

/* Password box */
.password-box {
  opacity: 0;
  transform: translateY(40px);
  transition: all 1s ease;
  margin-top: 30px;
}

.password-box.show {
  opacity: 1;
  transform: translateY(0);
}

.hint {
  font-size: 18px;
  margin-bottom: 15px;
  color: #444;
}

input {
  padding: 18px;
  border-radius: 12px;
  border: 1px solid #ccc;
  width: 280px;
  font-size: 18px;
}

button {
  margin-top: 18px;
  padding: 14px 35px;
  border: none;
  border-radius: 30px;
  background: #d6336c;
  color: white;
  font-size: 18px;
  cursor: pointer;
}

.error {
  color: #d6336c;
  font-size: 18px;
  margin-top: 15px;
  display: none;
}
</style>
</head>

<body>

<!-- Audio -->
<audio id="clickSound" src="happy.wav" preload="auto"></audio>

<div class="container">

  <div class="heart-wrapper" id="heartWrapper">
    <div class="heart" id="heart">üíñ</div>
    <div class="lock">üîí</div>
  </div>

  <div class="password-box" id="passwordBox">
    <div class="hint">
      Hint:üêæ + your B-day + my B-day ü•∞
    </div>

    <input type="password" id="passwordInput" placeholder="Guess the secret üíó">
    <br>
    <button onclick="checkPassword()">Reveal!! üíù</button>

    <div class="error" id="errorMsg">
      Uh-oh! Think harder Panda! üòè
    </div>
  </div>

</div>

<script>
const clickSound = document.getElementById("clickSound");
const heart = document.getElementById("heart");
const passwordBox = document.getElementById("passwordBox");
const errorMsg = document.getElementById("errorMsg");

// Play click sound
function playSound() {
  clickSound.currentTime = 0;
  clickSound.play().catch(()=>{});
}

// Create full-screen scattered sparkles
function createSparkles(x, y) {
  const num = 40; // more sparkles for lively effect
  const screenWidth = window.innerWidth;
  const screenHeight = window.innerHeight;

  for (let i = 0; i < num; i++) {
    const sparkle = document.createElement('div');
    sparkle.innerText = ['‚ú®','üíñ','üå∏','üíõ','‚≠ê','ü©µ'][Math.floor(Math.random()*5)];
    sparkle.classList.add('sparkle');
    sparkle.style.left = x + 'px';
    sparkle.style.top = y + 'px';
    sparkle.style.fontSize = (Math.random() * 30 + 20) + 'px';
    sparkle.style.opacity = 1;

    document.body.appendChild(sparkle);

    const dx = (Math.random() - 0.5) * screenWidth; 
    const dy = (Math.random() - 0.5) * screenHeight;
    const rotate = (Math.random() - 0.5) * 720; 

    const duration = 1000 + Math.random()*500; // 1s-1.5s

    sparkle.animate([
      { transform: 'translate(0,0) rotate(0deg)', opacity: 1 },
      { transform: `translate(${dx}px, ${dy}px) rotate(${rotate}deg)`, opacity: 0 }
    ], {
      duration: duration,
      easing: 'ease-out',
      fill: 'forwards'
    });

    setTimeout(()=> sparkle.remove(), duration);
  }
}

// Heart click to show sparkles and reveal password box
heart.addEventListener("click", () => {
  playSound();

  const rect = heart.getBoundingClientRect();
  const x = rect.left + rect.width/2;
  const y = rect.top + rect.height/2;

  // create lively sparkles
  createSparkles(x, y);

  // Heart "open" animation
  heart.classList.add("open-heart");

  // Show password box after heart opens
  setTimeout(()=>{
    passwordBox.classList.add("show");
  }, 600);
});

// Password check
function checkPassword() {
  const input = document.getElementById("passwordInput").value;
  const correctPassword = "whiskey1910";
  playSound();

  if (input === correctPassword) {
    const rect = heart.getBoundingClientRect();
    createSparkles(rect.left + rect.width/2, rect.top + rect.height/2);
    setTimeout(()=> window.location.href="page1.html", 500);
  } else {
    errorMsg.style.display = "block";
    setTimeout(()=> errorMsg.style.display="none", 2000);
  }
}
</script>

</body>
</html>
