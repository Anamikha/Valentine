<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Floating Hearts & Flowers ğŸ’–ğŸŒ¸</title>
<style>
body {
  margin: 0;
  height: 100vh;
  background: linear-gradient(to bottom, #fdecef, #f9dbe5);
  font-family: Georgia, serif;
  overflow: hidden;
  position: relative;
}

/* Counter display */
#counter {
  position: fixed;
  top: 12px;
  right: 18px;
  font-size: 18px;
  color: #d53f72;
  background: rgba(255,255,255,0.8);
  padding: 8px 14px;
  border-radius: 12px;
  z-index: 1000;
  font-weight: bold;
  box-shadow: 0 0 10px rgba(244,166,193,0.7);
}

/* Special clickable hearts & flowers */
.special {
  position: absolute;
  font-size: 70px; /* slightly larger */
  cursor: pointer;
  animation: pulse 2s ease-in-out infinite;
  text-shadow: 0 0 14px rgba(255,215,0,0.5),
               0 0 22px rgba(244,166,193,0.8),
               0 0 30px rgba(244,166,193,0.6);
  user-select: none;
  z-index: 2;
}

/* Other floating emojis (subtle background) */
.float {
  position: absolute;
  font-size: 28px;
  opacity: 0.55;
  user-select: none;
  filter: drop-shadow(0 0 4px rgba(255,255,255,0.4));
}

/* Pulse animation for specials */
@keyframes pulse {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.25); }
}

/* Modal styles */
#modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255,255,255,0.95);
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 0 30px rgba(244,166,193,0.7);
  text-align: center;
  z-index: 999;
  display: none;
}

#modal img {
  max-width: 90%;
  max-height: 50vh;
  border-radius: 12px;
}

#modal p {
  font-size: 18px;
  line-height: 1.4;
  color: #d53f72;
  max-width: 90%;
}

/* Sparkles */
.sparkle {
  position: absolute;
  pointer-events: none;
  z-index: 9999;
  font-size: 20px;
  opacity: 1;
  filter: drop-shadow(0 0 4px #fff);
}
</style>
</head>
<body>

<!-- Live counter -->
<div id="counter"></div>

<!-- 7 Hearts -->
<div class="special" id="h1">ğŸ§¡</div>
<div class="special" id="h2">ğŸ©µ</div>
<div class="special" id="h3">ğŸ©¶</div>
<div class="special" id="h4">ğŸ©·</div>
<div class="special" id="h5">ğŸ©·</div>
<div class="special" id="h6">ğŸ’™</div>
<div class="special" id="h7">ğŸ¤</div>

<!-- 3 Flowers -->
<div class="special" id="f1">ğŸŒ¸</div>
<div class="special" id="f2">ğŸŒ¸</div>
<div class="special" id="f3">ğŸŒ¸</div>

<!-- Additional floating emojis for background -->
<div class="float">ğŸŒ¼</div>
<div class="float">ğŸ’›</div>
<div class="float">ğŸŒ·</div>
<div class="float">ğŸ’</div>
<div class="float">ğŸ©µ</div>
<div class="float">âœ¨</div>
<div class="float">ğŸ©¶</div>
<div class="float">ğŸ¥°</div>
<div class="float">ğŸ¤</div>
<div class="float">ğŸ¦‹</div>
<div class="float">ğŸ’œ</div>
<div class="float">ğŸ’š</div>

<!-- Modal -->
<div id="modal"></div>

<audio id="popSound" src="happy.wav"></audio>

<script>
// --- Floating animation ---
const specials = [...document.querySelectorAll('.special')];
const floats = [...document.querySelectorAll('.float')];
const allElements = specials.concat(floats);

const screenWidth = window.innerWidth;
const screenHeight = window.innerHeight;

// Initialize positions & velocities
allElements.forEach(el => {
  el.x = Math.random() * (screenWidth - 60);
  el.y = Math.random() * (screenHeight - 60);
  el.vx = (Math.random() * 1.1 + 0.2) * (Math.random() < 0.5 ? 1 : -1);
  el.vy = (Math.random() * 1.1 + 0.2) * (Math.random() < 0.5 ? 1 : -1);
  el.style.left = el.x + 'px';
  el.style.top = el.y + 'px';
});

// Animation loop
function animate() {
  allElements.forEach(el => {
    el.x += el.vx;
    el.y += el.vy;
    if(el.x < 0 || el.x > window.innerWidth - 60) el.vx *= -1;
    if(el.y < 0 || el.y > window.innerHeight - 60) el.vy *= -1;
    el.style.left = el.x + 'px';
    el.style.top = el.y + 'px';
  });
  requestAnimationFrame(animate);
}
animate();

// --- Pop sound ---
const popSound = document.getElementById('popSound');

// --- Modal content ---
const modal = document.getElementById('modal');

// Heart photos
const heartPhotos = {
  h1: "v1090.jpg",
  h2: "v1080.jpg",
  h3: "v1070.jpg",
  h4: "v1060.jpg",
  h5: "v1050.jpg",
  h6: "v1040.jpg",
  h7: "v1030.jpg"
};

// Heart photo captions
const heartCaptions = {
  h1: "JUST US!! ğŸ¥°",
  h2: "Our first BLR trip! ğŸ’",
  h3: "10/11/25... A B-Day I'll never forget! ğŸ¥¹",
  h4: "Our favourite picture together! ğŸ¤",
  h5: "100 Days of US! ğŸ’",
  h6: "Annoying you since 2/2/22! ğŸ˜‚",
  h7: "Half a thousand with you! ğŸ§¿"
};


// Flower messages
const flowerMsgs = {
  f1: "You make my life brighter everyday! âœ¨",
  f2: "With you, even simple moments turn into memories! ğŸ’•",
  f3: "Forever grateful for us! ğŸ¥°ğŸ¥º"
};

// Counter
const counterDiv = document.getElementById('counter');
let heartsLeft = 7;
let flowersLeft = 3;

function updateCounter() {
  counterDiv.textContent = `Hearts left: ${heartsLeft} | Flowers left: ${flowersLeft}`;
}
updateCounter();

// --- Sparkles function from lock heart page ---
function createSparkles(x, y) {
  const num = 40; // lively burst
  const screenWidth = window.innerWidth;
  const screenHeight = window.innerHeight;

  for (let i = 0; i < num; i++) {
    const sparkle = document.createElement('div');
    sparkle.innerText = ['âœ¨','ğŸ’–','ğŸŒ¸','ğŸ’—','â­'][Math.floor(Math.random()*5)];
    sparkle.classList.add('sparkle');
    sparkle.style.left = x + 'px';
    sparkle.style.top = y + 'px';
    sparkle.style.fontSize = (Math.random() * 30 + 20) + 'px';
    sparkle.style.opacity = 1;

    document.body.appendChild(sparkle);

    const dx = (Math.random() - 0.5) * screenWidth; 
    const dy = (Math.random() - 0.5) * screenHeight;
    const rotate = (Math.random() - 0.5) * 720; 

    const duration = 1000 + Math.random()*500; // 1s-1.5s

    sparkle.animate([
      { transform: 'translate(0,0) rotate(0deg)', opacity: 1 },
      { transform: `translate(${dx}px, ${dy}px) rotate(${rotate}deg)`, opacity: 0 }
    ], {
      duration: duration,
      easing: 'ease-out',
      fill: 'forwards'
    });

    setTimeout(()=> sparkle.remove(), duration);
  }
}

// --- Click handling for specials ---
specials.forEach(el => {
  el.addEventListener('click', () => {
    // Remove from animation array
    const index = allElements.indexOf(el);
    if(index > -1) allElements.splice(index, 1);

    // Hide immediately
    el.style.display = 'none';

    // Play pop
    popSound.currentTime = 0;
    popSound.play();

    // Sparkles at element's current position
    const x = el.x + el.offsetWidth/2;
    const y = el.y + el.offsetHeight/2;
    createSparkles(x, y);

    // Update counters
    if(el.id.startsWith('h')) heartsLeft--;
    if(el.id.startsWith('f')) flowersLeft--;
    updateCounter();

    // Show modal content
    modal.innerHTML = "";
    if(heartPhotos[el.id]){
  const img = document.createElement('img');
  img.src = heartPhotos[el.id];
  modal.appendChild(img);

  // Add caption below the photo
  if(heartCaptions[el.id]){
    const caption = document.createElement('p');
    caption.textContent = heartCaptions[el.id];
    caption.style.marginTop = "12px";
    caption.style.fontWeight = "bold";
    caption.style.fontSize = "20px";
    modal.appendChild(caption);
  }
} else if(flowerMsgs[el.id]){
  const p = document.createElement('p');
  p.textContent = flowerMsgs[el.id];
  modal.appendChild(p);
}

    modal.style.display = 'block';

    // Hide modal after 3.5s
    setTimeout(()=>{ 
      modal.style.display = 'none'; 

      // If all clicked, show final "All done!" message
      if(heartsLeft === 0 && flowersLeft === 0){
        modal.innerHTML = "<p>More memories to come..! ğŸ©¶ğŸ¥‚</p>";
        modal.style.display = 'block';
        setTimeout(()=>{
          window.location.href="page2.5.html";
        }, 1800); // show final message for 1.8s
      }

    }, 3500);
  });
});
</script>
</body>
</html>
